{"version":3,"sources":["images/close__icon.svg","images/vector.svg","images/vector1.svg","images/vector2.svg","components/Header.js","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/Card.js","components/DeletePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js"],"names":["module","exports","Header","className","alt","src","headerLogo","CurrentUserContext","React","createContext","Main","props","userInfo","useContext","onClick","onEditAvatar","name","avatar","type","title","profileVectorButton","onEditProfile","about","onAddPlace","profileVectorAdd","Footer","PopupWithForm","namePopup","isOpen","onSubmit","method","action","noValidate","close","popupVector","children","disabled","titleButton","ImagePopup","url","onClose","popupVectorElement","Api","headers","this","response","ok","json","Promise","reject","statusText","err","message","fetch","then","_handleResponse","catch","_handleResponseError","form","body","JSON","stringify","item","value","api","authorization","Card","likes","link","onCardClick","owner","onClickLike","onCardDelete","cardId","isOwn","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","length","DeletePopup","handleSubmit","EditProfilePopup","useState","profileName","info","editProfilePopupValues","setEditProfilePopupValues","profileNameValid","infoValid","editProfilePopupValidity","setEditProfilePopupValidity","handleInputValidation","useCallback","e","target","prevState","useEffect","isUserNameValid","isDescriptionValid","isSubmitDisabled","currentUser","setName","description","setDescription","onUpdateUser","evt","preventDefault","autoComplete","id","placeholder","required","maxLength","onChange","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","App","popupDeletSubmitButton","document","querySelector","popupPluseButton","popupAvatarButton","popupButton","isEditProfilePopupOpen","setIsEditProfilePopupOpen","setCurrentUser","getUserInfo","res","console","log","handleEditProfileClick","isAddPlaceOpen","setIsAddPlaceOpen","isEditAvatarOpen","setIsEditAvatarOpen","closeAllPopups","setIsImagePopupOpen","setIsPopupDeleteOpen","isImagePopupOpen","selectedCard","setSelectedCard","handleCardClick","cards","setCards","getInitialCards","data","isPopupDeleteOpen","cardDelete","setCardDelete","handleDeleteItem","Provider","textContent","deleteCard","newCards","filter","c","map","whatever","key","removeLike","newCard","setLike","changeUserInfo","obj","addCard","changeAvatar","ReactDOM","render","StrictMode","getElementById"],"mappings":"qGAAAA,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,0KCW5BC,MARf,WACI,OACI,4BAAQC,UAAU,UACd,yBAAKA,UAAU,eAAeC,IAAI,sEAAeC,IAAKC,Q,kCCJrDC,EAAqBC,IAAMC,gBCgCzBC,MA7Bf,SAAcC,GACd,IAAMC,EAAWJ,IAAMK,WAAWN,GAElC,OACA,8BACI,6BAASJ,UAAU,WACnB,yBAAKA,UAAU,wBACf,yBAAKA,UAAU,0BAA0BW,QAASH,EAAMI,cACxD,yBAAKC,KAAK,SAASb,UAAU,kBAAkBC,IAAI,gJAA6BC,IAAKO,EAASK,UAE9F,yBAAKd,UAAU,iBACf,yBAAKA,UAAU,mBACf,wBAAIa,KAAK,OAAOb,UAAU,kBAAkBS,EAASI,MACrD,4BAAQE,KAAK,SAASf,UAAU,uBAAuBgB,MAAM,kFAC7D,yBAAKhB,UAAU,yBAAyBE,IAAKe,IAAqBhB,IAAI,+DAAaU,QAASH,EAAMU,kBAGlG,uBAAGL,KAAK,QAAQb,UAAU,qBAAqBS,EAASU,SAGxD,4BAAQJ,KAAK,SAASf,UAAU,sBAAsBgB,MAAM,mDAAWL,QAASH,EAAMY,YACtF,yBAAKpB,UAAU,sBAAsBE,IAAKmB,IAAkBpB,IAAI,2CAGhE,yBAAKD,UAAU,cCnBJsB,MARf,WACI,OACA,4BAAQtB,UAAU,UAClB,uBAAGA,UAAU,iBAAb,uB,wBCiBWuB,MAnBf,SAAuBf,GACnB,OACI,yBAAKR,UAAS,qBAAgBQ,EAAMgB,UAAtB,YAAmChB,EAAMiB,OAAS,eAAiB,GAAnE,MACd,0BAAMC,SAAUlB,EAAMkB,SAAUb,KAAK,WAAWc,OAAO,MAAMC,OAAO,IAAI5B,UAAS,oBAAeQ,EAAMgB,UAArB,2BAAyDK,YAAU,GACpJ,4BAAQd,KAAK,QAAQf,UAAU,uBAAuBW,QAASH,EAAMsB,OACrE,yBAAK9B,UAAS,eAAUQ,EAAMgB,UAAhB,YAAqCtB,IAAK6B,IAAa9B,IAAI,2FAEzE,yBAAKD,UAAS,eAAUQ,EAAMgB,UAAhB,cACd,wBAAIxB,UAAS,eAAUQ,EAAMgB,UAAhB,YAAqChB,EAAMQ,OACvDR,EAAMwB,SACP,4BAAQC,SAAUzB,EAAMyB,SAAUlB,KAAK,SAASf,UAAS,eAAUQ,EAAMgB,UAAhB,aACxDhB,EAAM0B,iBCGAC,MAdf,SAAoB3B,GAChB,OACA,yBAAKR,UAAS,8BAAyBQ,EAAMiB,QAAU,eAAzC,MACd,yBAAKzB,UAAU,4BACf,yBAAKA,UAAU,uBAAwBC,IAAI,GAAGC,IAAKM,EAAM4B,MACzD,wBAAIpC,UAAU,uBAAuBQ,EAAMQ,OAC3C,4BAAQD,KAAK,QAAQf,UAAU,uBAAuBW,QAASH,EAAM6B,SACjE,yBAAKrC,UAAU,wBAAwBE,IAAKoC,IAAoBrC,IAAI,8F,gBCTtEsC,E,WACF,cAAoC,IAAtBH,EAAqB,EAArBA,IAAqB,IAAhBI,eAAgB,MAAN,GAAM,sBACjCC,KAAKL,IAAMA,EACXK,KAAKD,QAAUA,E,4DAGLE,GACd,OAAIA,EAASC,GACJD,EAASE,OAETC,QAAQC,OAAOJ,EAASK,c,2CAIdC,GACnB,OAAOH,QAAQC,OAAOE,EAAIC,W,wCAIxB,OAAOC,MAAM,GAAD,OAAIT,KAAKL,IAAT,UAAsB,CAChCI,QAASC,KAAKD,UAEfW,KAAKV,KAAKW,iBACVC,MAAMZ,KAAKa,wB,oCAId,OAAOJ,MAAM,GAAD,OAAIT,KAAKL,IAAT,aAAyB,CACnCI,QAASC,KAAKD,UAEfW,KAAKV,KAAKW,iBACVC,MAAMZ,KAAKa,wB,mCAGDC,GACX,OAAOL,MAAM,GAAD,OAAIT,KAAKL,IAAT,oBAAgC,CAC1CT,OAAQ,QACRa,QAASC,KAAKD,QACdgB,KAAMC,KAAKC,UAAU,CACnB5C,OAAQyC,MAGXJ,KAAKV,KAAKW,iBACVC,MAAMZ,KAAKa,wB,8BAGNK,GACN,OAAOT,MAAM,GAAD,OAAIT,KAAKL,IAAT,UAAsB,CAChCT,OAAQ,OACRa,QAASC,KAAKD,QACdgB,KAAMC,KAAKC,UAAUC,KAEtBR,KAAKV,KAAKW,iBACVC,MAAMZ,KAAKa,wB,qCAGCM,GACb,OAAOV,MAAM,GAAD,OAAIT,KAAKL,IAAT,aAAyB,CACnCT,OAAQ,QACRa,QAASC,KAAKD,QACdgB,KAAMC,KAAKC,UAAU,CACjB7C,KAAM+C,EAAM/C,KACZM,MAAOyC,EAAMzC,UAGlBgC,KAAKV,KAAKW,iBACVC,MAAMZ,KAAKa,wB,iCAGHK,GACT,OAAOT,MAAM,GAAD,OAAIT,KAAKL,IAAT,kBAAsBuB,GAAQ,CACxChC,OAAQ,SACRa,QAASC,KAAKD,UAEfW,KAAKV,KAAKW,iBACRC,MAAMZ,KAAKa,wB,8BAGNK,GACN,OAAOT,MAAM,GAAD,OAAIT,KAAKL,IAAT,wBAA4BuB,GAAQ,CAC9ChC,OAAQ,MACRa,QAASC,KAAKD,UAEfW,KAAKV,KAAKW,iBACVC,MAAMZ,KAAKa,wB,iCAGHK,GACX,OAAOT,MAAM,GAAD,OAAIT,KAAKL,IAAT,wBAA4BuB,GAAQ,CAC9ChC,OAAQ,SACRa,QAASC,KAAKD,UAEbW,KAAKV,KAAKW,iBACVC,MAAMZ,KAAKa,0B,KAIHO,EAAM,IAAItB,EAAI,CACzBH,IAAK,8CACLI,QAAS,CACT,eAAgB,mBAChBsB,cAAe,0CC9DFC,MArCf,SAAcvD,GAAQ,IACfK,EAAoEL,EAApEK,KAAMmD,EAA8DxD,EAA9DwD,MAAOC,EAAuDzD,EAAvDyD,KAAMC,EAAiD1D,EAAjD0D,YAAaC,EAAoC3D,EAApC2D,MAAOC,EAA6B5D,EAA7B4D,YAAaC,EAAgB7D,EAAhB6D,aAMrDC,EAASjE,IAAMK,WAAWN,GAE1BmE,EAAQJ,EAAMK,MAAQF,EAAOE,IAG7BC,EAAyB,UAC1BF,EAAQ,0BAA4B,mBAGnCG,EAAUV,EAAMW,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQF,EAAOE,OAE3CK,EAAuB,UAAMH,EAAU,8BAAgC,yBAE7E,OACA,yBAAK1E,UAAU,WACX,yBAAKA,UAAU,iBAAiBC,IAAKY,EAAOX,IAAK+D,EAAMtD,QAnB3D,WACIuD,EAAYD,EAAOpD,MAmBnB,4BAAQb,UAAWyE,EAA2B9D,QAAS0D,EAActD,KAAK,UAE1E,yBAAKf,UAAU,uBACX,wBAAIA,UAAU,kBAAkBa,GACpC,yBAAKb,UAAU,yBACf,4BAAQe,KAAK,SAASf,UAAW6E,EAAyBlE,QAASyD,IAEnE,uBAAGpE,UAAU,oBAAoBgE,EAAMc,YCtB5BC,MARf,SAAqBvE,GAAQ,IAClBQ,EAAgDR,EAAhDQ,MAAOQ,EAAyChB,EAAzCgB,UAAWU,EAA8B1B,EAA9B0B,YAAaT,EAAiBjB,EAAjBiB,OAAQK,EAAStB,EAATsB,MAE9C,OACA,kBAAC,EAAD,CAAed,MAAOA,EAAOQ,UAAWA,EAAWU,YAAaA,EAAaT,OAAQA,EAAQK,MAAOA,EAAOJ,SAAUlB,EAAMwE,gB,cC4EhHC,MA/Ef,SAA0BzE,GAAO,IAAD,EACgC0E,mBAAS,CACjEC,YAAa,GACbC,KAAM,KAHkB,mBACrBC,EADqB,KACGC,EADH,OAMoCJ,mBAAS,CACrEK,kBAAkB,EAClBC,WAAW,IARa,mBAMrBC,EANqB,KAMKC,EANL,KAWtBC,EAAwBC,uBAC1B,SAACC,GAAO,IAAD,EACmBA,EAAEC,OAAlBjF,EADH,EACGA,KAAM+C,EADT,EACSA,MACd0B,GAA0B,SAACS,GAAD,mBAAC,eAAoBA,GAArB,kBAAiClF,EAAO+C,SAClE,CAACyB,IAGPW,qBACI,WACA,IACMC,EADmBZ,EAAuBF,YAAYL,OAAS,EAI/DoB,EADsBb,EAAuBD,KAAKN,OAAS,EAGjEY,GAA4B,iBAAO,CAC/BH,iBAAkBU,EAClBT,UAAWU,QAGf,CAACb,EAAwBK,IA/BD,IAkCpBP,EAAsBE,EAAtBF,YAAaC,EAASC,EAATD,KAEbG,EAAgCE,EAAhCF,iBAAkBC,EAAcC,EAAdD,UAEpBW,GAAoBZ,IAAqBC,EAEzCY,EAAc/F,IAAMK,WAAWN,GAxCT,EAyCHC,IAAM6E,SAAS,IAzCZ,mBAyCrBrE,EAzCqB,KAyCfwF,EAzCe,OA0CUhG,IAAM6E,SAAS,IA1CzB,mBA0CrBoB,EA1CqB,KA0CRC,EA1CQ,KA2CrBlE,EAAiC7B,EAAjC6B,QAASZ,EAAwBjB,EAAxBiB,OAAQ+E,EAAgBhG,EAAhBgG,aAsBxB,OArBAnG,IAAM2F,WAAU,WACZK,EAAQD,EAAYvF,MACpB0F,EAAeH,EAAYjF,SAC5B,CAACiF,IAmBJ,kBAAC,EAAD,CAAepF,MAAM,4HAAwBQ,UAAU,GAAGU,YAAY,yDAAYT,OAAQA,EAAQK,MAAOO,EAASX,SAjBlH,SAA2B+E,GACvBA,EAAIC,iBACJF,EAAa,CACT3F,OACAM,MAAOmF,KAagIrE,SAAUkE,GACrJ,yBAAKnG,UAAU,iBAEf,2BAAOe,KAAK,OAAO4F,aAAa,MAAMC,GAAG,YAAYhD,MAAOuB,EAAatE,KAAK,cAAcb,UAAU,eAAe6G,YAAY,qBAAOC,SAAU,IAAIC,UAAU,KAAKC,SAA4BrB,IACjM,0BAAMiB,GAAG,kBAAkB5G,UAAU,UAErC,2BAAOe,KAAK,OAAO4F,aAAa,MAAMC,GAAG,aAAahD,MAAOwB,EAAMvE,KAAK,OAAOb,UAAU,eAAe6G,YAAY,kCAAUC,SAAU,IAAIC,UAAU,MAAMC,SAAmCrB,IAC/L,0BAAMiB,GAAG,mBAAmB5G,UAAU,aCzD/BiH,MAjBf,SAAyBzG,GACvB,IAAM0G,EAAW7G,IAAM8G,SAChB1F,EAAiCjB,EAAjCiB,OAAQK,EAAyBtB,EAAzBsB,MAAOsF,EAAkB5G,EAAlB4G,eAOtB,OACE,kBAAC,EAAD,CAAepG,MAAM,wFAAkBQ,UAAU,UAAUU,YAAY,yDAAYT,OAAQA,EAAQK,MAAOA,EAAOJ,SANnH,SAA4BmE,GAC1BA,EAAEa,iBACFU,EAAeF,EAASG,QAAQzD,SAKhC,2BAAO0D,IAAKJ,EAAUnG,KAAK,MAAM4F,aAAa,MAAMC,GAAG,cAAc/F,KAAK,cAAcb,UAAU,wCAAwC6G,YAAY,qGAAqBC,UAAQ,IACnL,0BAAMF,GAAG,oBAAoB5G,UAAU,YCyB5BuH,MArCf,SAAuB/G,GAAO,IACnBiB,EAA6BjB,EAA7BiB,OAAQK,EAAqBtB,EAArBsB,MAAOV,EAAcZ,EAAdY,WADG,EAEDf,IAAM6E,SAAS,IAFd,mBAElBrE,EAFkB,KAEZwF,EAFY,OAGDhG,IAAM6E,SAAS,IAHd,mBAGlBjB,EAHkB,KAGZuD,EAHY,KAsBzB,OACI,kBAAC,EAAD,CAAexG,MAAM,gEAAcQ,UAAU,SAASU,YAAY,6CAAUT,OAAQA,EAAQK,MAAOA,EAAOJ,SAlB9G,SAAsBmE,GAClBA,EAAEa,iBAEFtF,EAAW,CACPP,OACAoD,WAcA,yBAAKjE,UAAU,uBACX,2BAAOe,KAAK,OAAO4F,aAAa,MAAMC,GAAG,YAAY/F,KAAK,OAAOb,UAAU,kCAAkC6G,YAAY,mDAAWC,SAAU,IAAIC,UAAU,KAAKC,SAX7K,SAAiBnB,GACbQ,EAAQR,EAAEC,OAAOlC,UAYT,0BAAMgD,GAAG,kBAAkB5G,UAAU,UAErC,2BAAQe,KAAK,MAAM4F,aAAa,MAAMC,GAAG,OAAO/F,KAAK,OAAOb,UAAU,wCAAwC6G,YAAY,qGAAqBC,UAAQ,EAACE,SAXpK,SAAiBnB,GACb2B,EAAQ3B,EAAEC,OAAOlC,UAYT,0BAAMgD,GAAG,aAAa5G,UAAU,aC4JjCyH,MA/Kf,WACA,IAAMC,EAAyBC,SAASC,cAAc,yBAChDC,EAAmBF,SAASC,cAAc,wBAC1CE,EAAoBH,SAASC,cAAc,yBAC3CG,EAAcJ,SAASC,cAAc,kBAJ5B,EAM6CvH,IAAM6E,UAAS,GAN5D,mBAMR8C,EANQ,KAMgBC,EANhB,OAOuB5H,IAAM6E,SAAS,CACnDrE,KAAM,GACNC,OAAQ,GACRK,MAAO,GACPqD,IAAK,KAXQ,mBAOR4B,EAPQ,KAOK8B,EAPL,KAcf7H,IAAM2F,WAAU,WACdnC,EAAIsE,cACHhF,MAAM,SAAAiF,GACLF,EAAeE,MAEhB/E,OAAM,SAACL,GACNqF,QAAQC,IAAItF,QAEb,IAEH,IAAMuF,EAAyB3C,uBAAY,WACzCqC,GAA0B,KACzB,IA1BY,EA4B6B5H,IAAM6E,UAAS,GA5B5C,mBA4BRsD,EA5BQ,KA4BQC,EA5BR,OAkCiCpI,IAAM6E,UAAS,GAlChD,mBAkCRwD,EAlCQ,KAkCUC,EAlCV,KAwCf,SAASC,IACPX,GAA0B,GAC1BQ,GAAkB,GAClBE,GAAoB,GACpBE,GAAoB,GACpBC,IAAqB,GA7CR,MAgDiCzI,IAAM6E,UAAS,GAhDhD,mBAgDR6D,EAhDQ,KAgDUF,EAhDV,OAiDyBxI,IAAM6E,SAAS,IAjDxC,mBAiDR8D,EAjDQ,KAiDMC,EAjDN,KAmDb,SAASC,EAAgBjF,EAAMpD,GAC7BoI,EAAgB,CACdjI,MAAMH,EACNuB,IAAI6B,IAEN4E,GAAoB,GAxDT,MA2DaxI,IAAM6E,SAAS,IA3D5B,mBA2DNiE,EA3DM,KA2DCC,EA3DD,KA6Db/I,IAAM2F,WAAW,WACjBnC,EAAIwF,kBACHlG,MAAK,SAACmG,GACLF,EAASE,MAEVjG,OAAM,SAACL,GACNqF,QAAQC,IAAItF,QAEX,IArEU,MA+FqC3C,IAAM6E,UAAS,GA/FpD,mBA+FNqE,EA/FM,KA+FaT,GA/Fb,QAgGuBzI,IAAM6E,SAAS,IAhGtC,qBAgGNsE,GAhGM,MAgGMC,GAhGN,MAkGb,SAASC,GAAiB/F,GACxB8F,GAAc9F,GAKdmF,IAAqB,GAkDvB,OACE,kBAAC1I,EAAmBuJ,SAApB,CAA6B/F,MAAOwC,GACpC,yBAAKpG,UAAU,QACb,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAagB,MAAM,iEAAeQ,UAAU,UAAUU,YAAY,eAAKT,OAAQ8H,EAAmBzH,MAAO8G,EAAgB5D,aAnD7H,SAA0ByB,GAC1BA,EAAIC,iBACJgB,EAAuBkC,YAAa,sDACpC/F,EAAIgG,WAAWL,GAAWhF,KACzBrB,MAAK,WACJ,IAAM2G,EAAWX,EAAMY,QAAO,SAASC,GAErC,OADAtC,EAAuBkC,YAAa,eAC7BI,EAAExF,MAAQgF,GAAWhF,OAE9B4E,EAASU,MAERzG,OAAM,SAACL,GACNqF,QAAQC,IAAItF,MAEd8F,IAAqB,MAsCnB,kBAAC,EAAD,CAAM5H,cAAeqH,EAAwBnH,WAjInD,WACEqH,GAAkB,IAgIgE7H,aA3HpF,WACE+H,GAAoB,MA4HhB,6BAAS3I,UAAU,YAChBmJ,EAAMc,KAAI,gBAAGrD,EAAH,EAAGA,GAAOsD,EAAV,6BAAyB,kBAAC,EAAD,eAAMC,IAAKvD,EAAIvC,aAAc,kBAAMqF,GAAiBQ,IAAWhG,YAAagF,EAAiB9E,YAAa,WA3FpJ,IAAyB5D,KA2FkJ0J,GA1FrJlG,MAAMW,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQ4B,EAAY5B,OAYxDX,EAAIuG,WAAW5J,EAAMgE,KACpBrB,MAAK,SAACkH,GACL,IAAMP,EAAWX,EAAMc,KAAI,SAACD,GAAD,OAAOA,EAAExF,MAAQhE,EAAMgE,IAAM6F,EAAUL,KAClEZ,EAASU,MAEVzG,OAAM,SAACL,GACNqF,QAAQC,IAAItF,MAfda,EAAIyG,QAAQ9J,EAAMgE,KACjBrB,MAAK,SAACkH,GACL,IAAMP,EAAWX,EAAMc,KAAI,SAACD,GAAD,OAAOA,EAAExF,MAAQhE,EAAMgE,IAAM6F,EAAUL,KAClEZ,EAASU,MAEVzG,OAAM,SAACL,GACNqF,QAAQC,IAAItF,QAiFyKkH,QAEvL,kBAAC,EAAD,CAAkB7H,QAASuG,EAAgBnH,OAAQuG,EAAwBxB,aAxC/E,SAA0B7C,GACxBoE,EAAY6B,YAAY,kEACxB/F,EAAI0G,eAAe5G,GAClBR,MAAM,SAACqH,GACNtC,EAAesC,GACfzC,EAAY6B,YAAY,4DAE1B3B,GAA0B,MAkCxB,kBAAC,EAAD,CAAexG,OAAQ+G,EAAgB1G,MAAO8G,EAAgBxH,WArBlE,SAA8BuC,GAC5BkE,EAAiB+B,YAAY,kEAC7B/F,EAAI4G,QAAQ9G,GACXR,MAAK,SAACiF,GACLgB,EAAS,GAAD,mBAAKD,GAAL,CAAYf,KACpBP,EAAiB+B,YAAY,4DAE/BnB,GAAkB,MAehB,kBAAC,EAAD,CAAiBrB,eAhCrB,SAA4BoD,GAC1B1C,EAAkB8B,YAAY,kEAC9B/F,EAAI6G,aAAaF,GAChBrH,MAAK,SAACiF,GACLF,EAAeE,GACfN,EAAkB8B,YAAY,4DAEhCjB,GAAoB,IAyBmClH,OAAQiH,EAAkB5G,MAAO8G,IACtF,kBAAC,EAAD,CAAaxG,IAAK4G,EAAa5G,IAAKpB,MAAOgI,EAAahI,MAAOS,OAAQsH,EAAkB1G,QAASuG,IAElG,kBAAC,EAAD,SCpLN+B,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFlD,SAASmD,eAAe,W","file":"static/js/main.14e47a3b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/close__icon.5df32a06.svg\";","module.exports = __webpack_public_path__ + \"static/media/vector.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/vector1.6bfdb354.svg\";","module.exports = __webpack_public_path__ + \"static/media/vector2.b2fce4ac.svg\";","import React from 'react';\nimport headerLogo from '../images/vector.svg'\n\nfunction Header() {\n    return(\n        <header className=\"header\">\n            <img className=\"header__logo\" alt=\"Место Россия\" src={headerLogo} />\n        </header>\n    )\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport profileVectorButton from '../images/vector1.svg'\nimport profileVectorAdd from '../images/vector2.svg'\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\n\nfunction Main(props){\nconst userInfo = React.useContext(CurrentUserContext)\n\nreturn(\n<main>\n    <section className=\"profile\">\n    <div className=\"profile__avatar-info\">\n    <div className=\"profile__avatar-overlay\" onClick={props.onEditAvatar}>\n    <img name=\"avatar\" className=\"profile__avatar\" alt=\"Здесь должна быть аватарка\" src={userInfo.avatar}  />\n    </div>\n    <div className=\"profile__info\">\n    <div className=\"profile__button\">\n    <h1 name=\"name\" className=\"profile__title\">{userInfo.name}</h1>\n    <button type=\"button\" className=\"profile__edit-button\" title=\"Редактировать\">\n    <img className=\"profile__vector-button\" src={profileVectorButton} alt=\"карандашек\" onClick={props.onEditProfile} />\n    </button>\n    </div>\n    <p name=\"about\" className=\"profile__subtitle\">{userInfo.about}</p>\n    </div>\n    </div>\n    <button type=\"button\" className=\"profile__button-add\" title=\"Добавить\" onClick={props.onAddPlace}>\n    <img className=\"profile__vector-add\" src={profileVectorAdd} alt=\"плюсик\" />\n    </button>\n    </section>\n    <div className=\"loading\"></div>\n</main>\n)\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n    return(\n    <footer className=\"footer\">\n    <p className=\"footer__title\">&copy; Pankov Pavel</p>\n    </footer>\n    )\n}\n\nexport default Footer;","import React from 'react';\nimport popupVector from '../images/close__icon.svg';\n\nfunction PopupWithForm(props){\n    return(\n        <div className={`popup popup${props.namePopup} ${props.isOpen ? 'popup_opened' : ''} `}>\n        <form onSubmit={props.onSubmit} name=\"OpenForm\" method=\"get\" action=\"#\" className={`form popup${props.namePopup}__container popup__form`} noValidate>\n        <button type=\"reset\" className=\"popup__vector-button\" onClick={props.close}>\n        <img className={`popup${props.namePopup}__vector`} src={popupVector} alt=\"кнопка закрытия\" />\n        </button>\n        <div className={`popup${props.namePopup}__content`}>\n        <h3 className={`popup${props.namePopup}__title`}>{props.title}</h3>\n        {props.children}\n        <button disabled={props.disabled} type=\"submit\" className={`popup${props.namePopup}__button`}>\n        {props.titleButton}\n        </button>\n        </div>\n        </form>\n    </div>\n    )\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport popupVectorElement from '../images/close__icon.svg';\n\nfunction ImagePopup(props) {\n    return(\n    <div className={`popup popup-element ${props.isOpen && \"popup_opened\"} `}> \n    <div className=\"popup__element-container\">\n    <img className=\"popup__element-image\"  alt=\"\" src={props.url}/>\n    <h2 className=\"popup__element-text\">{props.title}</h2> \n    <button type=\"reset\" className=\"popup__vector-button\" onClick={props.onClose}>\n        <img className=\"popup__vector-element\" src={popupVectorElement} alt=\"кнопка закрытия\" />\n    </button>\n    </div>\n    </div>\n    )\n}\n\nexport default ImagePopup;","\nclass Api {\n    constructor({ url, headers = {} }) {\n      this.url = url;\n      this.headers = headers;\n  }\n\n_handleResponse(response){\n  if (response.ok) {\n    return response.json();\n  } else {\n    return Promise.reject(response.statusText)\n  }\n}\n\n_handleResponseError(err){\n  return Promise.reject(err.message)\n}\n\ngetInitialCards(){\n    return fetch(`${this.url}/cards`, {\n      headers: this.headers,\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError)\n}\n\ngetUserInfo(){\n  return fetch(`${this.url}/users/me`, {\n    headers: this.headers\n  })\n  .then(this._handleResponse)\n  .catch(this._handleResponseError)\n}\n\nchangeAvatar(form){\n  return fetch(`${this.url}/users/me/avatar`, {\n    method: 'PATCH',\n    headers: this.headers,\n    body: JSON.stringify({\n      avatar: form\n    })\n  })\n  .then(this._handleResponse)\n  .catch(this._handleResponseError)\n}\n\naddCard(item){\n  return fetch(`${this.url}/cards`, {\n    method: 'POST',\n    headers: this.headers,\n    body: JSON.stringify(item)\n  })\n  .then(this._handleResponse)\n  .catch(this._handleResponseError)\n}\n\nchangeUserInfo(value){\n  return fetch(`${this.url}/users/me`, {\n    method: 'PATCH',\n    headers: this.headers,\n    body: JSON.stringify({\n        name: value.name,\n        about: value.about\n    })\n  })\n  .then(this._handleResponse)\n  .catch(this._handleResponseError)\n}\n\ndeleteCard(item){\n  return fetch(`${this.url}/cards/${item}`, {\n    method: 'DELETE',\n    headers: this.headers\n  })\n  .then(this._handleResponse)\n    .catch(this._handleResponseError)\n  }\n  \n  setLike(item) {\n    return fetch(`${this.url}/cards/likes/${item}`, {\n      method: 'PUT',\n      headers: this.headers\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError)\n  }\n  \n  removeLike(item) {\n  return fetch(`${this.url}/cards/likes/${item}`, {\n    method: 'DELETE',\n    headers: this.headers\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError)\n  }\n}\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  headers: {\n  'Content-Type': 'application/json',\n  authorization: '8ed74a04-ed04-4c07-90fb-2948fe98949f',\n  }\n})\n\n\nexport default Api;","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nfunction Card(props) { \nconst {name, likes, link, onCardClick, owner, onClickLike, onCardDelete} = props; \n\nfunction handleClick() { \n    onCardClick(link , name) \n} \n\nconst cardId = React.useContext(CurrentUserContext);\n\nconst isOwn = owner._id === cardId._id;\n  \n\nconst cardDeleteButtonClassName = (\n  `${isOwn ? 'element__trashs_visible' : 'element__trashs'}`\n);  \n\nconst isLiked = likes.some(i => i._id === cardId._id);\n\nconst cardLikeButtonClassName = `${isLiked ? 'element__button-like_active' : 'element__button-like '}`\n\nreturn( \n<div className=\"element\"> \n    <img className=\"element__image\" alt={name}  src={link} onClick={handleClick}/> \n    <button className={cardDeleteButtonClassName} onClick={onCardDelete} type=\"reset\"> \n    </button> \n    <div className=\"element__title-like\"> \n        <h2 className=\"element__title\">{name}</h2> \n    <div className=\"element__like-counter\"> \n    <button type=\"button\" className={cardLikeButtonClassName} onClick={onClickLike}> \n    </button>          \n    <p className=\"element__counter\">{likes.length}</p> \n    </div> \n    </div> \n    </div> \n)     \n} \n\nexport default Card;\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction DeletePopup(props) {\n    const {title, namePopup, titleButton, isOpen, close} = props\n\n    return(\n    <PopupWithForm title={title} namePopup={namePopup} titleButton={titleButton} isOpen={isOpen} close={close} onSubmit={props.handleSubmit}/>\n    )\n}\n\nexport default DeletePopup","import React, {useState, useEffect, useCallback} from 'react';\nimport PopupWithForm from './PopupWithForm'\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props){\n    const [editProfilePopupValues, setEditProfilePopupValues] = useState({\n        profileName: \"\",\n        info: \"\"\n    });\n\n    const [editProfilePopupValidity, setEditProfilePopupValidity] = useState({\n        profileNameValid: false,\n        infoValid: false\n    });\n\n    const handleInputValidation = useCallback(\n        (e) => {\n          const { name, value } = e.target;\n          setEditProfilePopupValues((prevState) => ({ ...prevState, [name]: value }));\n        },[editProfilePopupValues]\n    );\n\n    useEffect(\n        function validateInputs() {\n        const isUserNameFilled = editProfilePopupValues.profileName.length > 2;\n        const isUserNameValid = isUserNameFilled;\n\n        const isDescriptionFilled = editProfilePopupValues.info.length > 2;\n        const isDescriptionValid = isDescriptionFilled;\n\n        setEditProfilePopupValidity(() => ({\n            profileNameValid: isUserNameValid,\n            infoValid: isDescriptionValid\n        }));\n        },\n        [editProfilePopupValues, setEditProfilePopupValidity]\n    );\n\n    const { profileName, info } = editProfilePopupValues;\n\n    const { profileNameValid, infoValid } = editProfilePopupValidity;\n\n    const isSubmitDisabled = !profileNameValid || !infoValid;\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] =  React.useState('')\n    const [description, setDescription] = React.useState('')\n    const {onClose, isOpen, onUpdateUser} = props\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser])\n\n    function handleInputChange(evt){\n        evt.preventDefault()\n        onUpdateUser({\n            name , \n            about: description\n        });\n    }\n\n    function handleChangeName(e){\n        setName(e.target.value)\n    }\n\n    function handleChangeDescription(e){\n        setDescription(e.target.value)\n    }\n\n    return(\n    <PopupWithForm title=\"Редактировать профиль\" namePopup=\"\" titleButton=\"Сохранить\" isOpen={isOpen} close={onClose} onSubmit={handleInputChange} disabled={isSubmitDisabled}>\n        <div className=\"popup__inputs\">\n            \n        <input type=\"text\" autoComplete=\"off\" id=\"user-name\" value={profileName} name=\"profileName\" className=\"popup__input\" placeholder=\"Имя\"  required =\"2\" maxLength=\"40\" onChange={handleChangeName, handleInputValidation} />\n        <span id=\"user-name-error\" className=\"error\"></span>\n\n        <input type=\"text\" autoComplete=\"off\" id=\"about-user\" value={info} name=\"info\" className=\"popup__input\" placeholder=\"О себе\"  required =\"2\" maxLength=\"200\" onChange={handleChangeDescription, handleInputValidation}/>\n        <span id=\"about-user-error\" className=\"error\"></span>\n    </div>    \n    </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props){\n  const inputRef = React.useRef()\n  const {isOpen, close, onUpdateAvatar} = props\n\n  function handleAvatarSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(inputRef.current.value)\n  } \n  \n  return(\n    <PopupWithForm title=\"Обновить аватар\" namePopup=\"-avatar\" titleButton=\"Сохранить\" isOpen={isOpen} close={close} onSubmit={handleAvatarSubmit}>\n    <input ref={inputRef} type=\"url\" autoComplete=\"off\" id=\"avatar-link\" name=\"avatar-link\" className=\"popup__input popup-avatar__input-link\" placeholder=\"Ссылка на картинку\" required /> \n    <span id=\"avatar-link-error\" className=\"error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props){\n    const {isOpen, close, onAddPlace} = props\n    const [name ,setName] = React.useState('')\n    const [link, setLink] = React.useState('')\n\n    function handleSubmit(e){\n        e.preventDefault();\n\n        onAddPlace({\n            name,\n            link\n        })\n    }\n\n    function getName(e){\n        setName(e.target.value)\n    }\n\n    function getLink(e){\n        setLink(e.target.value)\n    }\n\n    return(\n        <PopupWithForm title=\"Новое место\" namePopup=\"-pluse\" titleButton=\"Создать\" isOpen={isOpen} close={close} onSubmit={handleSubmit}>\n            <div className=\"popup-pluse__inputs\">\n                <input type=\"text\" autoComplete=\"off\" id=\"name-card\" name=\"name\" className=\"popup-pluse__input popup__input\" placeholder=\"Название\" required =\"1\" maxLength=\"30\" onChange={getName}/> \n\n                <span id=\"name-card-error\" className=\"error\"></span>\n\n                <input  type=\"url\" autoComplete=\"off\" id=\"link\" name=\"link\" className=\"popup__input  popup-pluse__input-link\" placeholder=\"Ссылка на картинку\" required onChange={getLink}/> \n\n                <span id=\"link-error\" className=\"error\"></span>\n            </div>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React, { useCallback } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport '../pages/index.css'\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\nimport {api} from '../utils/Api';\nimport Card from './Card'\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\nimport DeletePopup from './DeletePopup'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\n\nfunction App() {\nconst popupDeletSubmitButton = document.querySelector('.popup-delete__button')\nconst popupPluseButton = document.querySelector('.popup-pluse__button')\nconst popupAvatarButton = document.querySelector('.popup-avatar__button')\nconst popupButton = document.querySelector('.popup__button')\n\nconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\nconst [currentUser, setCurrentUser] = React.useState({\n  name: '',\n  avatar: '',\n  about: '',\n  _id: ''\n});\n\nReact.useEffect(() =>{ \n  api.getUserInfo()\n  .then( res =>{\n    setCurrentUser(res)\n  })\n  .catch((err) => {\n    console.log(err); \n});     \n}, [])\n\nconst handleEditProfileClick = useCallback(()=>{\n  setIsEditProfilePopupOpen(true)\n}, []) \n\nconst [isAddPlaceOpen, setIsAddPlaceOpen] = React.useState(false)\n\nfunction handleAddPlaceClick () {\n  setIsAddPlaceOpen(true)\n}\n\nconst [isEditAvatarOpen, setIsEditAvatarOpen] = React.useState(false)\n\nfunction handleEditAvatarClick(){\n  setIsEditAvatarOpen(true)\n}\n\nfunction closeAllPopups() {\n  setIsEditProfilePopupOpen(false)\n  setIsAddPlaceOpen(false)\n  setIsEditAvatarOpen(false)\n  setIsImagePopupOpen(false)\n  setIsPopupDeleteOpen(false)\n}\n\nconst [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\nconst [selectedCard, setSelectedCard] = React.useState({});\n  \n  function handleCardClick(link, name) {\n    setSelectedCard({\n      title:name,\n      url:link\n    })\n    setIsImagePopupOpen(true)\n  }\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect( () =>{\n  api.getInitialCards()\n  .then((data)=>{\n    setCards(data)\n  })\n  .catch((err) => {\n    console.log(err); \n  });     \n  }, [])\n\n  function handleClickLike(props) {\n  const isLiked = props.likes.some(i => i._id === currentUser._id);\n\n    if(!isLiked){\n      api.setLike(props._id)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === props._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err); \n      });  \n    } else {\n      api.removeLike(props._id)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === props._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err); \n      });  \n    }\n  }\n\n  const [isPopupDeleteOpen, setIsPopupDeleteOpen] = React.useState(false)\n  const [cardDelete, setCardDelete] = React.useState([])\n\n  function handleDeleteItem(item){\n    setCardDelete(item)\n    handleDeleteOpen()\n  }\n\n  function handleDeleteOpen(){\n    setIsPopupDeleteOpen(true)\n  }\n \n  function handleDeleteCard(evt){\n  evt.preventDefault()\n  popupDeletSubmitButton.textContent= 'Удаление...'\n  api.deleteCard(cardDelete._id)\n  .then(() =>{\n    const newCards = cards.filter(function(c){\n      popupDeletSubmitButton.textContent= 'Да'\n      return c._id !== cardDelete._id;\n    })\n    setCards(newCards)\n    })\n    .catch((err) => {\n      console.log(err); \n    }); \n    setIsPopupDeleteOpen(false)\n  }\n\n  function handleUpdateUser(item) {\n    popupButton.textContent=\"Сохранение...\"\n    api.changeUserInfo(item)\n    .then( (obj) =>{\n      setCurrentUser(obj)\n      popupButton.textContent=\"Сохранить\"\n    })\n    setIsEditProfilePopupOpen(false)\n  }\n\n  function handleUpdateAvatar(obj){\n    popupAvatarButton.textContent=\"Сохранение...\"\n    api.changeAvatar(obj)\n    .then((res)=>{\n      setCurrentUser(res)\n      popupAvatarButton.textContent=\"Сохранить\"\n    })\n    setIsEditAvatarOpen(false)\n  }\n\n  function handleAddPlaceSubmit(item){\n    popupPluseButton.textContent=\"Сохранение...\"\n    api.addCard(item)\n    .then((res)=>{\n      setCards([...cards, res]); \n      popupPluseButton.textContent=\"Сохранить\"\n    })\n    setIsAddPlaceOpen(false)\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"page\">\n      <Header/>\n      <DeletePopup title=\"Вы уверенны?\" namePopup=\"-delete\" titleButton=\"Да\" isOpen={isPopupDeleteOpen} close={closeAllPopups} handleSubmit={handleDeleteCard}/>\n      <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} > \n      </Main>\n      <section className=\"elements\">\n        {cards.map(({ id, ...whatever }) => <Card key={id} onCardDelete={() => handleDeleteItem(whatever)} onCardClick={handleCardClick} onClickLike={() => {handleClickLike(whatever)}} {...whatever}/> )}\n      </section>\n      <EditProfilePopup onClose={closeAllPopups} isOpen={isEditProfilePopupOpen} onUpdateUser={handleUpdateUser} />\n      <AddPlacePopup isOpen={isAddPlaceOpen} close={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n      <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarOpen} close={closeAllPopups} />\n      <ImagePopup  url={selectedCard.url} title={selectedCard.title} isOpen={isImagePopupOpen} onClose={closeAllPopups}>\n      </ImagePopup>\n      <Footer />\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}